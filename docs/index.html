<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>Fly Klipper Docs</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="description" content="Description">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="css/theme-simple.css">
    <link rel="stylesheet" href="css/translate-google.css">
</head>

<script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<body style="position: relative !important; min-height: 100% !important; top: 0px !important;">

    <div class="app-nav select" id="google_translate_element"></div>

    <div id="app"></div>


    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'zh-CN',
                includedLanguages: 'zh-CN,zh-TW,en,ja,de,ko',
                autoDisplay: false,
                disableAutoTranslation: false,
            }, 'google_translate_element');
        }
        function translateLanguage(lang) {
            setCookie("googtrans", "/zh-CN/" + lang);
            //googleTranslateElementInit();
            window.location.reload(false);
        }

        function setCookie(name, value) {
            var Days = 1;
            var exp = new Date();
            exp.setTime(exp.getTime() + Days * 24 * 60 * 60 * 1000);
            document.cookie = name + "=" + escape(value) + ";";
            document.cookie = name + "=" + escape(value) + ";domain=.klipper.cn;";
            document.cookie = name + "=" + escape(value) + ";domain=mellow.klipper.cn;";
        }
        function getCookie(name) {
            var arr, reg = new RegExp("(^| )" + name + "=([^;]*)(;|$)");

            if (arr = document.cookie.match(reg)) return unescape(arr[2]);
            else return null;
        }
        function getQueryVariable(variable) {
            var query = window.location.search.substring(1);
            var vars = query.split("&");
            for (var i = 0; i < vars.length; i++) {
                var pair = vars[i].split("=");
                if (pair[0] == variable) { return pair[1]; }
            }
            return null;
        }
    </script>

    <script>
        window.$docsify = {

            name: 'Fly Klipper Docs',
            repo: 'Mellow-3D/klipper-docs',
            el: '#app',
            loadSidebar: true,
            subMaxLevel: 5,
            notFoundPage: true,
            coverpage: true,
            auto2top: true,
            executeScript: true,
            loadNavbar: false,
            mergeNavbar: true,

            nameLink: {
                '/': '#/',
            },
            search: {
                noData: {
                    '/': '没有结果!',
                },
                paths: 'auto',
                placeholder: {
                    '/': '搜索',
                },
                pathNamespaces: ['/']
            },
            plugins: [

            ],
            onlyCover: false,
            pagination: {
                previousText: '上一章节',
                nextText: '下一章节',
                crossChapter: true,
                crossChapterText: true,
            },
            beian: {
                ICP: "粤ICP备2022093047号",
                NISMSP: {
                    number: "",
                    url: "",
                    id: ""
                },
            },
            // 在每个页面加载完成后执行的回调函数
            doneEach: function () {
                // 创建一个谷歌翻译的脚本标签
                var script = document.createElement('script');
                script.src = 'https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit';
                script.async = true;
                document.body.appendChild(script);

                document.body.style.top = "0px";
            }
        }
    </script>
    <script src="js/docsify.min.js"></script>
    <script src="js/docsify-themeable.min.js"></script>
    <script src="js/index.min.js"></script>
    <script src="js/emoji.min.js"></script>
    <script src="js/zoom-image.min.js"></script>
    <script src="js/search.min.js"></script>
    <script src="js/docsify-copy-code.min.js"></script>
    <script src="js/external-script.min.js"></script>
    <script src="js/prism-bash.min.js"></script>
    <script src="js/prism-markdown.min.js"></script>
    <script src="js/prism-python.min.js"></script>
    <script src="js/prism-cfg.min.js"></script>
    <script src="js/docsify-tabs.js"></script>
    <script src="js/docsify-pagination.min.js"></script>
    <script src="js/docsify-select.js"></script>
    <script src="js/beian.min.js"></script>

    <script>
        function init() {
            lang = getQueryVariable("lang");
            if (lang != undefined && lang != null && lang != "") {
                if (getCookie("lang") != lang) {
                    setCookie("lang", lang);
                    translateLanguage(lang);
                    return;
                }
            }
            language = navigator.language || navigator.userLanguage;
            googtrans = getCookie("googtrans");
            if (language == undefined || language == null || language == "") {
                if (language != 'en-GB' && language != 'zh-CN' && language != 'zh-TW' && language != 'ja' && language != 'de' && language != 'ko') {
                    language = "en-GB";
                }
            }
            if (googtrans == undefined || googtrans == null || googtrans == "" || googtrans.split("/").length < 3) {
                translateLanguage(language);
                return;
            }
            googtrans = googtrans.split("/")[2];

            if (googtrans == "zh-CN" && language != "zh-CN") {
                console.log(googtrans);
                translateLanguage(language);
                return;
            }

        }
        setTimeout("init()", 500);

    </script>
</body>

</html>